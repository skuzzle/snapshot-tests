plugins {
    id("snapshot-tests.base-conventions")
    id("java-library")
    id("jacoco")
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(11)
    }
}

tasks.withType(JavaCompile).configureEach {
    options.encoding = "UTF-8"
    options.compilerArgs << '-parameters'
}

javadoc {
    options.tags = [
            "apiNote:a:API Note:",
            "implSpec:a:Implementation Requirements:",
            "implNote:a:Implementation Note:"]
}

repositories {
    mavenCentral()
}

dependencies {
    implementation(libs.apiguardian)

    implementation platform(libs.junit.bom)
    testImplementation("org.junit.jupiter:junit-jupiter")
    testImplementation(libs.equalsverifier)
    testImplementation(libs.assertj.core)
}

tasks.named('test') {
    useJUnitPlatform()
}